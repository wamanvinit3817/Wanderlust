<% layout("/boilerplate.ejs") %>
<style>
  .filter p{
    font-size:0.8rem;
  }
</style>
<body>
  <div id="filters">
     <div class="filter">
      <div> <i class="fa-solid fa-fire-flame-curved"></i></div>
     <p>Trending</p>
     </div>
     <div class="filter">
      <div> <i class="fa-solid fa-bed"></i></div>
     <p>Rooms</p>
     </div>
     <div class="filter">
      <div> <i class="fa-solid fa-mountain-city"></i></div>
     <p>Iconic cities</p>
     </div>
     <div class="filter">
      <div> <i class="fa-solid fa-mountain-sun"></i></div>
     <p>Mountains</p>
     </div>
     <div class="filter">
      <div> <i class="fa-solid fa-chess-rook"></i></div>
     <p>Castles</p>
     </div>
     <div class="filter">
      <div> <i class="fa-solid fa-person-swimming"></i></div>
     <p>Amazing pools</p>
     </div>
     <div class="filter">
      <div> <i class="fa-solid fa-campground"></i></div>
     <p>Camping</p>
     </div>
     <div class="filter">
      <div> <i class="fa-solid fa-wheat-awn"></i></div>
     <p>Frams</p>
     </div>
     <div class="filter">
      <div><i class="fa-solid fa-snowflake"></i></div>
     <p>Arctic</p>
     </div>
     <div class="filter">
      <div><i class="fa-solid fa-water"></i></div>
     <p>Riverside</p>
     </div>

     <div class="tax">
      <div class="form-check-reverse form-switch">
  <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
  <label class="form-check-label" for="switchCheckDefault">Display total after taxes</label>
</div>
     </div>

   
     </div>
 


    <div class="row row-cols-lg-3 row-cols-md-3 row-cols-sm-1 listingimg mt-3" style="margin-top: 2rem;">
        <%for(listing of result){%>
          
            <a href="/listings/show/<%=listing.id %>" id="show">
             
                <div class="card col listing-card" style="width: 15rem;">
                  
    <img src="<%=listing.image.url %>" class="card-img-top" alt="img" style="height: 15rem;">
   
     <div class="card-img-overlay"></div>
     <!-- Wishlist (heart) button -->
          
          
            <i class="fa-regular fa-heart wishlist-btn ms-auto" ></i>
    
       
     
    <div class="card-body">
    <p class="card-text"><b><%=listing.title%></b>
    <br>
     â‚¹ <%= (listing.price !== null && listing.price !== undefined) ? listing.price.toLocaleString("en-IN") : "N/A" %> /night
      &nbsp; &nbsp;<i class="tax-info" style="font-size: small;"> +18% GST</i>
       </p>
     </div>
    </div>
   <%}%>
  </a>
</div> 
</body>

<script>
  let taxswitch=document.getElementById("switchCheckDefault");
  taxswitch.addEventListener("click",()=>{
    let taxinfo=document.getElementsByClassName("tax-info")
    for(info of taxinfo){
      if(info.style.display != "inline"){
      info.style.display="inline"
    }else{
       info.style.display="none"
    }
  }
  })
</script>